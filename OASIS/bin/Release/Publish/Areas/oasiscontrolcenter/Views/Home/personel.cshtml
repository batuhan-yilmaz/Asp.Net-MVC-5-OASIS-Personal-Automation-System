@using OASIS.Models.Entity
@model List<personel>

@{
    ViewBag.Title = "Personeller";
    Layout = "~/Areas/oasiscontrolcenter/Views/Shared/_Layout.cshtml";
    ViewBag.link = "personel";
    ViewBag.menuactive = "Tüm Personeller";
}

@if (TempData["personelGuncelle"] != null)
{

    <script>
        Swal.fire('Başarılı', 'İşlem gerçekleşti', 'success');
    </script>
}

<!-- Content Wrapper. Contains page content -->

<div class="content-wrapper">


    <section class="content-header">
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-6">
                    <h1>Personel Bilgileri</h1>
                </div>

            </div>
        </div><!-- /.container-fluid -->
    </section>
    <!-- Main content -->
    <section class="content">

        <div class="card-body">
            <div class="table-responsive">
                <table id="example" class="table table-striped table-bordered" style="width:100%">
                    <thead>
                        <tr>
                            <th>Güncelle</th>
                            <th>Sil</th>
                            <th>İzin Formu</th>
                            <th>Fotograf-Cv Guncelle</th>
                            <th>Firma</th>
                            <th>Bölge</th>
                            <th>Birim</th>
                            <th>Departman</th>
                            <th>Yönetici</th>
                            <th>Profil Fotoğrafı</th>
                            <th>Dijital CV</th>
                            <th>Personel</th>
                            <th>Tc</th>
                            <th>Telefon</th>
                            <th>E-Posta</th>
                            <th>Adres</th>
                            <th>Cinsiyet</th>
                            <th>Medeni Durum</th>
                            <th>Varsa Çocuk Sayısı</th>
                            <th>İş Başlangıcı</th>
                            <th>İş Bitişi</th>
                            <th>Aylık Performans "Avarage"</th>
                            <th>Pirim = "Aylık Performans Avarage+ => %</th>
                            <th>Mesai Sayısı</th>
                            <th>Total Mesai Ücreti</th>
                            <th>Ücret</th>
                        </tr>
                    </thead>
                    <tbody>


                        @foreach (var personel in Model)
                        {
                            <tr>
                                <td>
                                    <button type="button" class="fa fa-pencil-square-o btn btn-outline-primary" data-toggle="modal" data-target="#guncelle_@personel.personelid">Güncelle</button>
                                    <div class="modal fade" id="guncelle_@personel.personelid">
                                        <div class="modal-dialog modal-sm">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title">Personeli Güncelle</h4>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <p>Personeli Güncellemek İstiyormusunuz?</p>
                                                </div>
                                                <div class="modal-footer justify-content-between">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Vazgeç</button>
                                                    @Html.ActionLink("Güncelle", "personelguncelle", new { personel.personelid }, new { @class = "fa fa-pencil-square-o btn btn-outline-primary" })
                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->
                                </td>
                                <td>
                                    <button type="button" class="fa fa-trash btn btn-outline-danger" data-toggle="modal" data-target="#sil_@personel.personelid">Sil</button>
                                    <div class="modal fade" id="sil_@personel.personelid">
                                        <div class="modal-dialog modal-sm">
                                            <div class="modal-content">
                                                <div class="modal-header">
                                                    <h4 class="modal-title">Personeli Sil</h4>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <span aria-hidden="true">&times;</span>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <p>Personeli Silmek İstiyormusunuz?</p>
                                                </div>
                                                <div class="modal-footer justify-content-between">
                                                    <button type="button" class="btn btn-default" data-dismiss="modal">Vazgeç</button>
                                                    @Html.ActionLink("Sil", "personelsil", new { personel.personelid }, new { @class = "fa fa-trash btn btn-outline-danger" })
                                                </div>
                                            </div>
                                            <!-- /.modal-content -->
                                        </div>
                                        <!-- /.modal-dialog -->
                                    </div>
                                    <!-- /.modal -->
                                </td>
                                <td>@Html.ActionLink(" İzin Formu", "personelizin", new { personel.personelid }, new { @class = "fa fa-flag-o btn btn-outline-success" })</td>
                                <td>@Html.ActionLink(" Fotograf-Cv Guncelle", "personelfotocvguncelle", new { personel.personelid }, new { @class = "btn btn-outline-info" })</td>
                                <td>@personel.company.company1</td>
                                <td>@personel.region.region1</td>
                                <td>@personel.unit.unit1</td>
                                <td>@personel.departman.departman1</td>
                                <td>@personel.authorized.authorized1</td>
                                <td><img src="~/Content/Admin/data/personel/pimg/@personel.profilephoto" width="100" height="100" /></td>
                                <td><b><a href="~/Content/Admin/data/personel/pcv/@personel.digitalcv">Cv İndir</a></b></td>
                                <td><b>@personel.personel1</b></td>
                                <td>@personel.tc</td>
                                <td>@personel.tel</td>
                                <td>@personel.email</td>
                                <td>@personel.adres</td>
                                <td>@personel.gender</td>
                                <td>@personel.civilstatusget</td>
                                <td>@personel.children</td>
                                <td> @Html.DisplayFor(m => personel.workingstart)</td>
                                <td> @Html.DisplayFor(m => personel.workingstop)</td>
                                <td>@personel.performance</td>
                                <td>@personel.pirim</td>
                                <td>@personel.mesaidays</td>
                                <td>@personel.mesai</td>
                                <td>@personel.pay</td>
                            </tr>
                        }

                    </tbody>
                </table>
            </div>
        </div>
        <!-- /.row -->
    </section>
    <!-- /.content -->
</div>
